<a href="http://www.sina.com.cn" onclick="countAndGotoURL(this)">click me</a>

<script>
function countAndGotoURL(e) {
	xmlHttp = createXMLHttpRequest();
	var url = "resource/count";
	xmlHttp.open("POST", url, true);
	xmlHttp.setRequestHeader("Content-Type",
			"application/x-www-form-urlencoded;");
	xmlHttp.send();
	
	window.location.href = e.href
}

function createXMLHttpRequest() {  
    var xmlHttp;
    if (window.XMLHttpRequest) {
        xmlHttp = new XMLHttpRequest();
        if (xmlHttp.overrideMimeType)
            xmlHttp.overrideMimeType('text/xml');
    } else if (window.ActiveXObject) {
        try {
            xmlHttp = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
            try {
                xmlHttp = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (e) {
            }
        }
    }
    return xmlHttp;
}
</script>